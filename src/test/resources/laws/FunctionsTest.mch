MACHINE FunctionsTest
DEFINITIONS
f == %x.(x : 1..10 | x+1)
VARIABLES x
INVARIANT x : 1..3
INITIALISATION x := 1
OPERATIONS
foo = PRE 1 = 1 THEN x := 2 END 
ASSERTIONS
 dom(%x.(x:{1,2,3}| 1)) = {1,2,3};
 ran(%x.(x:{1,2,3}| x)) = {1,2,3};
 
 %x.(x:{1,2,3}|1) : {1,2,3} --> {1};
 %x.(x:{1,2}|x) : {1,2} >-> {1,2,3};
 %x.(x:{1,2,3}|1) : {1,2,3} -->> {1};
 %x.(x:{1,2}|x) : {1,2} >->> {1,2};
 %x,y.(x : 1..3 & y : 1..3| x+ y)(1,2) = 3;
 %x.(x : 1..2| x ) :  1..3 +-> 1..3;
 %x.(x:{1,2}|1) : {1,2,3} +-> {1};
 %x.(x:{1,2} & 1=1|1) : {1,2,3} +-> {1};
 %x.(x:{1}|1) : {1,2,3} >+> {1};
 %x.(x:{1,2}|1) : {1,2,3} +->> {1};
 %x.(x:{1,2}|x) : {1,2,3} >+>> {1,2};

 dom(f) = 1..10;
 ran(f) = 2..11;
 id(1..3) = %x.(x : 1..3 | x);
 1..3 <| f = %x.(x : 1..3 | x + 1);
 1..3 <<| f = %x.(x : 4..10 | x + 1);
 f |> 1..3 = %x.(x : 1..2 | x + 1);
 f |>> 1..3 = %x.(x : 3..10 | x + 1);
 f~= %x.(x : 2..11 | x-1);
 f[1..3] = 2..4;
 f <+ %x.(x : 10..11 | x+1) = %x.(x : 1..11 | x + 1);
 f <+ %x.(x : 1..11 | x-1) = %x.(x : 1..11 | x - 1)
END